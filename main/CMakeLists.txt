idf_component_register(SRCS "binary_value.c" "analog_value.c" "main.c" "wifi_helper.c" "display.cpp"
                       REQUIRES bacnet-stack TFT_eSPI espressif__arduino-esp32
                       PRIV_REQUIRES spi_flash nvs_flash esp_event esp_wifi esp_netif
                       INCLUDE_DIRS "")

# Add linker flags for Arduino log wrapper compatibility
target_link_options(${COMPONENT_LIB} INTERFACE
    "-Wl,--wrap=esp_log_write"
    "-Wl,--wrap=esp_log_writev"
)

# Force the linker to include Arduino log wrapper symbols
target_link_libraries(${COMPONENT_LIB} INTERFACE
    "-Wl,--undefined=__wrap_esp_log_write"
    "-Wl,--undefined=__wrap_esp_log_writev"
)
